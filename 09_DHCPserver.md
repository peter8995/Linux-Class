# [DHCP server](http://linux.vbird.org/linux_server/0340dhcp.php#server_dhcpd.conf)
* 準備兩台虛擬機
* 第一台有兩張網卡：NAT、Lan segment/內部網路
* 第二台只要Lan segment/內部網路
* 把內部網路的ip分別設定 192.168.1.1、192.168.1.2：ip addr add [192.168.1.1/24] brd + dev [ens36]
* 確認可以互ping
* 在第一台電腦上安裝DHCP server：yum install dhcp
* 設定conf檔案 不能含有中文字！
```
ddns-update-style            interim;
ignore client-updates;
default-lease-time           259200;
max-lease-time               518400;

subnet 192.168.100.0 netmask 255.255.255.0 {
    range 192.168.100.101 192.168.100.200;    要給的ip 從101開始到200
    option routers               192.168.100.254;    route ip
    option domain-name-servers   8.8.8.8, 9.9.9.9;    DNS server
}
```
* 把內部網路那張網卡的ip清除並設定為192.168.100.254接著重啟dhcp server
```
[root@localhost user]# ifconfig ens36 0
[root@localhost user]# ip addr add 192.168.100.254/24 brd + dev ens36
[root@localhost user]# systemctl restart dhcpd
```
* 第二台網路的網卡也清除 並開啟dhcp客戶端
```
[root@localhost user]# ifconfig ens33 0
[root@localhost user]# dhclient ens33
```
* 測試
```
[root@localhost user]# cat /etc/resolv.conf
; generated by /usr/sbin/dhclient-script
nameserver 8.8.8.8
nameserver 9.9.9.9
[root@localhost user]# ip route show
default via 192.168.100.254 dev ens33 
default via 192.168.100.254 dev ens33 proto dhcp metric 100 
172.17.0.0/16 dev docker0 proto kernel scope link src 172.17.0.1 
192.168.100.0/24 dev ens33 proto kernel scope link src 192.168.100.103 
[root@localhost user]# ping 192.168.100.254
PING 192.168.100.254 (192.168.100.254) 56(84) bytes of data.
64 bytes from 192.168.100.254: icmp_seq=1 ttl=64 time=0.359 ms
64 bytes from 192.168.100.254: icmp_seq=2 ttl=64 time=0.466 ms
64 bytes from 192.168.100.254: icmp_seq=3 ttl=64 time=0.462 ms
64 bytes from 192.168.100.254: icmp_seq=4 ttl=64 time=0.282 ms
^C
--- 192.168.100.254 ping statistics ---
4 packets transmitted, 4 received, 0% packet loss, time 3002ms
rtt min/avg/max/mdev = 0.282/0.392/0.466/0.078 ms
```

# echo
```
[root@localhost ~]# a=5
[root@localhost ~]# echo $a
5
[root@localhost ~]# echo "a=$a"
a=5
[root@localhost ~]# echo "a=$a"
a=5
[root@localhost ~]# echo 'a=$a'
a=$a
```

# 設定環境變數
* vim .bashrc 在最後一行加上 export PATH=$PATH:/root/bin
* source .bashrc 就成功了


# 雜記
* ifconfig [介面卡] 0 清除兩張網卡的設定
